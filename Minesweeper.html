<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Minesweeper</title>
    <style>
        #gameBoard {
    display: grid;
    /* grid-template-columns: repeat(9, 40px);
    grid-template-rows: repeat(9, 40px); */
    justify-content: center;
}
.cell {
    width: 30px;
    height: 30px;
    background-color:gray;
    border: 1px solid #999;
    box-sizing: border-box;
    user-select: none;
    /* å°†å…‰æ ‡æ ·å¼è®¾ç½®ä¸ºé»˜è®¤çš„ç®­å¤´ï¼Œè€Œä¸æ˜¯æ–‡æœ¬é€‰æ‹©çš„ I å‹å…‰æ ‡ */
    cursor: default;
}
h1 {
    color:rgb(16, 16, 16);
    font-size: 40px;
    text-align: center;
    margin: 10px;
}
div {
    display: flex;
    justify-content: center;
}
button {
    font-size: 20px; /* è®¾ç½®å­—ä½“å¤§å° */
    font-weight: bold; /* è®¾ç½®å­—ä½“ç²—ç»† */
    color: #000; /* è®¾ç½®å­—ä½“é¢œè‰² */
    background: linear-gradient(to right, #f9f9f9, #e0e0e0); /* æ¸å˜èƒŒæ™¯è‰² */
    padding: 5px; /* è®¾ç½®å†…è¾¹è· */
    border-radius: 5px; /* è®¾ç½®è¾¹æ¡†åœ†è§’ */
    text-align: center; /* è®¾ç½®æ–‡æœ¬å¯¹é½æ–¹å¼ */
    border: 2px solid #444; /* è¾¹æ¡† */
    transition-duration: 0.4s; /* è®¾ç½®è¿‡æ¸¡æ•ˆæœ */
    cursor: pointer; /* è®¾ç½®é¼ æ ‡æ ·å¼ */
    margin: 0 10px; /* è®¾ç½®æŒ‰é’®é—´è· */
    width: 80px; /* è®¾ç½®å®½åº¦ */
}
button:hover {
    background: linear-gradient(to right, #636060, #777676); /* é¼ æ ‡æ‚¬åœæ—¶çš„æ¸å˜èƒŒæ™¯è‰² */
}
body {
    background-image: url('./source/BG1.jpg');
        background-repeat: no-repeat;
        background-size: cover;
}
.cell:hover {
    background-color: lightblue;
}
#timer,#mineCounter{
    width: 300px; 
    font-size: 20px; /* è®¾ç½®å­—ä½“å¤§å° */
    font-weight: bold; /* è®¾ç½®å­—ä½“ç²—ç»† */
    color: #000; /* è®¾ç½®å­—ä½“é¢œè‰² */
    background-color: #f9f9f9; /* è®¾ç½®èƒŒæ™¯é¢œè‰² */
    padding: 10px; /* è®¾ç½®å†…è¾¹è· */
    border-radius: 5px; /* è®¾ç½®è¾¹æ¡†åœ†è§’ */
    text-align: center; /* è®¾ç½®æ–‡æœ¬å¯¹é½æ–¹å¼ */
    margin-right: 60px;  /* å³è¾¹è· */
    margin-left: 60px;  /*å·¦è¾¹è·*/
    border: 2px solid #444; /* è¾¹æ¡† */
    box-shadow: 0px 0px 10px 3px rgba(0,0,0,0.2); /* é˜´å½± */
    background: linear-gradient(to right, #f9f9f9, #e0e0e0); /* æ¸å˜èƒŒæ™¯è‰² */
}
#info-container {
    display: flex;
    justify-content: center;
    align-items: center;
}
footer {
    position: fixed; 
    bottom: 0; 
    left: 0; 
    padding: 5px;
    /* background-color: #f9f9f9; */
    /* border-top-right-radius: 10px; */
    font-family: Arial, sans-serif;
    font-size: 20px;
    color: #444;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}


    </style>
</head>
<body>
   <h1>æ‰«é›·</h1>
   <div id="info-container">
    <span id="mineCounter">Mines Remain: 0</span>
    <span id="timer">Time: 0 seconds</span>
    </div><br>
   <div>
        <button id="easy" onclick="createBoard(9, 9)">æ–°æ‰‹</button>
        <button id="medium" onclick="createBoard(16, 16)">å…¥é—¨</button>
        <button id="hard" onclick="createBoard(16, 30)">å¤§å¸ˆ</button>
    </div> <br>
   <div id="gameBoard"></div>

   <script>
    // å…¨å±€å˜é‡ï¼Œç”¨æ¥è®°å½•å½“å‰çš„éš¾åº¦ç­‰çº§
var currentLevel = {rows: 9, cols: 9};  // é»˜è®¤æ˜¯åˆçº§
var gameEnded = false; // æ ‡è®°æ¸¸æˆæ˜¯å¦å·²ç»ç»“æŸ
let hasStarted = false; // æ·»åŠ ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œæ¥æ ‡è®°æ¸¸æˆæ˜¯å¦å·²ç»å¼€å§‹
/**
 * åˆ›å»ºæ£‹ç›˜
 * @param {*} rows 
 * @param {*} cols 
 */
function createBoard(rows, cols){
    var gameBoard = document.getElementById('gameBoard');
    
    gameBoard.innerHTML = '';
    
    for (let i = 0; i < rows; i++) {
        for (let j = 0; j < cols; j++) {
            let cell = document.createElement('div');
            cell.className = 'cell';
            // ç»™æ¯ä¸ªå•å…ƒæ ¼æ·»åŠ å·¦é”®ç‚¹å‡»äº‹ä»¶
            cell.addEventListener('click', function() {
                handleCellClick(cell);
            });
            
            // ç»™æ¯ä¸ªå•å…ƒæ ¼æ·»åŠ å³é”®ç‚¹å‡»äº‹ä»¶
            cell.addEventListener('contextmenu', function(event) {
                event.preventDefault();  // é˜»æ­¢é»˜è®¤çš„å³é”®ç‚¹å‡»èœå•
                handleRightClick(cell);
            });

            gameBoard.appendChild(cell);
        }
    }
    
    gameBoard.style.gridTemplateRows = `repeat(${rows}, 30px)`;
    gameBoard.style.gridTemplateColumns = `repeat(${cols}, 30px)`;
}
/**
 * å³é”®ç‚¹å‡»
 * @param {*} cell 
 */
function handleRightClick(cell) {
    if (!hasStarted) {
        hasStarted = true;
        startTimer();  // åœ¨å¼€å§‹ç‚¹å‡»ç¬¬ä¸€ä¸ªæ ¼å­æ—¶å¼€å§‹è®¡æ—¶
    }
    if (cell.classList.contains('clicked') || cell.classList.contains('disabled')) {
        // å¦‚æœå•å…ƒæ ¼å·²ç»è¢«ç‚¹å‡»ï¼Œæˆ–è€…å·²ç»è¢«ç¦ç”¨ï¼Œé‚£ä¹ˆä¸å…è®¸æ’æ——
        return;
    }
    if (cell.classList.contains('flagged')) {
        // å¦‚æœå•å…ƒæ ¼å·²ç»è¢«æ ‡è®°ä¸ºæ——å­ï¼Œé‚£ä¹ˆç§»é™¤æ——å­
        cell.classList.remove('flagged');
        cell.textContent = '';  // æ¸…ç©ºå•å…ƒæ ¼çš„å†…å®¹
        updateMineCounter(1);
    } else {
        // å¦‚æœå•å…ƒæ ¼è¿˜æ²¡æœ‰è¢«æ ‡è®°ä¸ºæ——å­ï¼Œé‚£ä¹ˆæ·»åŠ æ——å­
        cell.classList.add('flagged');
        cell.textContent = 'ğŸš©';  // å°†å•å…ƒæ ¼çš„å†…å®¹è®¾ç½®ä¸ºæ——å­å›¾æ ‡
        updateMineCounter(-1);
    }
    // ç”¨æˆ·æ“ä½œä¹‹åï¼Œæ£€æŸ¥æ˜¯å¦èƒœåˆ©
    setTimeout(() => { // åœ¨setTimeoutå†…éƒ¨è¿›è¡Œæ£€æŸ¥ï¼Œä¿è¯æ›´æ”¹å·²å®Œæˆ
        if (checkWin()) {
            // å»¶è¿Ÿå¼¹å‡ºèƒœåˆ©æç¤º
            alert('You win!');
            winGame();
        }
    }, 0);
}
/**
 * åˆå§‹åŒ–é›·
 * @param {*} rows 
 * @param {*} cols 
 */
function initializeMines(rows,cols){
    //åˆ¤æ–­åˆå§‹åŒ–åœ°é›·ä¸ªæ•°
    var mineNumber;
    if(rows === 9){
        mineNumber = 10;
    } else if(rows === 16 && rows === cols){
        mineNumber = 40;
    } else mineNumber = 99;

    var cells = Array.from(document.querySelectorAll('.cell'));
    var cellMatrix = []; // å­˜æ”¾äºŒç»´æ•°ç»„çš„å˜é‡

    // æŠŠ cells è½¬æ¢ä¸ºäºŒç»´æ•°ç»„
    for(var i = 0; i < rows; i++) {
        cellMatrix.push(cells.slice(i * cols, i * cols + cols));
    }

    var mines = []; // ç”¨äºå­˜å‚¨å·²æ”¾ç½®é›·çš„ä½ç½®

    for(var i = 0; i < mineNumber; i++){
        var minePosition;
        do{
            minePosition = {
                row: Math.floor(Math.random() * rows),
                col: Math.floor(Math.random() * cols)
            };
        } while(mines.some(mine => mine.row === minePosition.row && mine.col === minePosition.col));

        cellMatrix[minePosition.row][minePosition.col].dataset.mine = 'true'; // åœ¨é€‰æ‹©çš„ä½ç½®æ”¾ç½®é›·
        mines.push(minePosition); // å°†é›·çš„ä½ç½®å­˜å‚¨åœ¨é›·çš„æ•°ç»„ä¸­
    }

    //åœ¨é€‰æ‹©çš„ä½ç½®æ”¾ç½®é›·ï¼Œç„¶åä¸ºæ¯ä¸ªå•å…ƒæ ¼è®¾ç½®å®ƒå‘¨å›´çš„é›·æ•°
    for(var i = 0; i < cellMatrix.length; i++){
        for(var j = 0; j < cellMatrix[i].length; j++){
            var cell = cellMatrix[i][j];
            if(cell.dataset.mine !== 'true'){
                var count = countMinesAround(cellMatrix, { row: i, col: j });
                cell.dataset.count = count > 0 ? count : '';
            }
        }
    }
    return mineNumber;
}
/**
 *  æ•°å­—æç¤º
 * @param {*} cellMatrix 
 * @param {*} position 
 * @returns 
 */
function countMinesAround(cellMatrix, position){
    var count = 0;

    // è®¡ç®—8ä¸ªç›¸é‚»ä½ç½®çš„åæ ‡
    var neighbors = [
        { row: position.row - 1, col: position.col - 1 },
        { row: position.row - 1, col: position.col },
        { row: position.row - 1, col: position.col + 1 },
        { row: position.row, col: position.col - 1 },
        { row: position.row, col: position.col + 1 },
        { row: position.row + 1, col: position.col - 1 },
        { row: position.row + 1, col: position.col },
        { row: position.row + 1, col: position.col + 1 }
    ];

    // å¯¹æ¯ä¸ªç›¸é‚»ä½ç½®è¿›è¡Œæ£€æŸ¥
    for(var i = 0; i < neighbors.length; i++){
        var neighbor = neighbors[i];

        // æ£€æŸ¥ä½ç½®æ˜¯å¦åœ¨æ£‹ç›˜èŒƒå›´å†…
        if(neighbor.row >= 0 && neighbor.row < cellMatrix.length && neighbor.col >= 0 && neighbor.col < cellMatrix[0].length){
            // æ£€æŸ¥è¯¥ä½ç½®æ˜¯å¦æœ‰é›·
            if(cellMatrix[neighbor.row][neighbor.col].dataset.mine === 'true'){
                count++;
            }
        }
    }

    // è¿”å›é›·çš„æ•°é‡
    return count;
}
/**
 * ç‚¹å‡»äº¤äº’
 * @param {*} cell 
 */
function handleCellClick(cell) {
    if (!hasStarted) {
        hasStarted = true;
        startTimer();  // åœ¨å¼€å§‹ç‚¹å‡»ç¬¬ä¸€ä¸ªæ ¼å­æ—¶å¼€å§‹è®¡æ—¶
    }
    if (cell.classList.contains('flagged') || cell.classList.contains('disabled')) {
        // å¦‚æœå•å…ƒæ ¼è¢«æ ‡è®°ä¸ºæ——å­ï¼Œæˆ–è€…å·²ç»è¢«ç¦ç”¨ï¼Œé‚£ä¹ˆä¸å“åº”å·¦é”®ç‚¹å‡»äº‹ä»¶
        return;
    }
    if (cell.dataset.mine === 'true') {
        // å¦‚æœå•å…ƒæ ¼æœ‰é›·ï¼Œæ¸¸æˆç»“æŸ
        alert('Game Over');
        endGame(); // è°ƒç”¨ endGame å‡½æ•°æ¥æ˜¾ç¤ºæ‰€æœ‰åœ°é›·
    } else {
        // å¦‚æœå•å…ƒæ ¼æ²¡æœ‰é›·ï¼Œæ˜¾ç¤ºå®ƒå‘¨å›´çš„é›·æ•°
        cell.textContent = cell.dataset.count;
        cell.style.backgroundColor = '#ddd'; // ä¸ºå·²ç‚¹å‡»çš„å•å…ƒæ ¼æ”¹å˜èƒŒæ™¯è‰²
        cell.classList.add('clicked'); // æ·»åŠ ä¸€ä¸ªæ–°çš„ class æ¥æ ‡è®°å·²ç»è¢«ç‚¹å‡»çš„å•å…ƒæ ¼

        // å¦‚æœè¯¥å•å…ƒæ ¼å‘¨å›´æ²¡æœ‰é›·ï¼Œåˆ™è‡ªåŠ¨æ‰“å¼€å…¶æ‰€æœ‰é‚»å±…
        if (cell.dataset.count === '') {
            var cells = Array.from(document.querySelectorAll('.cell'));
            var cellMatrix = [];
            for(var i = 0; i < currentLevel.rows; i++) {
                cellMatrix.push(cells.slice(i * currentLevel.cols, i * currentLevel.cols + currentLevel.cols));
            }

            var position = getPosition(cell, cellMatrix);
            openNeighbors(cellMatrix, position);
        } else {
            // å¦‚æœå•å…ƒæ ¼æœ‰æ•°å­—ï¼Œå¹¶ä¸”å‘¨å›´çš„æ——å¸œæ•°é‡ç­‰äºè¿™ä¸ªæ•°å­—ï¼Œ
            // é‚£ä¹ˆæ£€æŸ¥æ——å¸œæ˜¯å¦éƒ½æ”¾åœ¨æ­£ç¡®çš„ä½ç½®ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œç¿»å¼€å‘¨å›´æ‰€æœ‰æœªè¢«ç¿»å¼€çš„å•å…ƒæ ¼
            var cells = Array.from(document.querySelectorAll('.cell'));
            var cellMatrix = [];
            for(var i = 0; i < currentLevel.rows; i++) {
                cellMatrix.push(cells.slice(i * currentLevel.cols, i * currentLevel.cols + currentLevel.cols));
            }

            var position = getPosition(cell, cellMatrix);
            var neighbors = getNeighbors(cellMatrix, position);

            var flaggedNeighbors = neighbors.filter(neighbor => neighbor.classList.contains('flagged'));
            var mineNeighbors = neighbors.filter(neighbor => neighbor.dataset.mine === 'true');

            // æ£€æŸ¥æ ‡è®°çš„æ‰€æœ‰ä½ç½®æ˜¯å¦éƒ½æœ‰é›·
            var allFlagsCorrect = flaggedNeighbors.every(flaggedNeighbor => flaggedNeighbor.dataset.mine === 'true');

            if (flaggedNeighbors.length === Number(cell.dataset.count) && 
                flaggedNeighbors.length === mineNeighbors.length && 
                allFlagsCorrect) {
                openNeighbors(cellMatrix, position);
            } else if (flaggedNeighbors.length === Number(cell.dataset.count)) {
                // å¦‚æœæ’æ——æ•°é‡æ­£ç¡®ï¼Œä½†æ——å­ä½ç½®é”™è¯¯ï¼Œæ¸¸æˆç»“æŸ
                alert('Game Over');
                endGame(); // è°ƒç”¨ endGame å‡½æ•°æ¥æ˜¾ç¤ºæ‰€æœ‰åœ°é›·
            }
        }
    }
    // ç”¨æˆ·æ“ä½œä¹‹åï¼Œæ£€æŸ¥æ˜¯å¦èƒœåˆ©
    setTimeout(() => {
        if (checkWin()) {
            // å»¶è¿Ÿå¼¹å‡ºèƒœåˆ©æç¤º
            alert('You win!');
            winGame();
        }
    }, 0);
}
/**
 * è·å–å•å…ƒæ ¼çš„æ‰€æœ‰é‚»å±…
 * @param {*} cellMatrix 
 * @param {*} position 
 * @returns 
 */
function getNeighbors(cellMatrix, position) {
    var neighbors = [
        { row: position.row - 1, col: position.col - 1 },
        { row: position.row - 1, col: position.col },
        { row: position.row - 1, col: position.col + 1 },
        { row: position.row, col: position.col - 1 },
        { row: position.row, col: position.col + 1 },
        { row: position.row + 1, col: position.col - 1 },
        { row: position.row + 1, col: position.col },
        { row: position.row + 1, col: position.col + 1 }
    ];

    var validNeighbors = [];
    neighbors.forEach(neighbor => {
        if (neighbor.row >= 0 && neighbor.row < cellMatrix.length &&
            neighbor.col >= 0 && neighbor.col < cellMatrix[0].length) {
            var cell = cellMatrix[neighbor.row][neighbor.col];
            validNeighbors.push(cell);
        }
    });

    return validNeighbors;
}
/**
 * è·å–å•å…ƒæ ¼åœ¨äºŒç»´æ•°ç»„ä¸­çš„ä½ç½®
 * @param {*} cell 
 * @param {*} cellMatrix 
 * @returns 
 */
function getPosition(cell, cellMatrix) {
    for (var i = 0; i < cellMatrix.length; i++) {
        for (var j = 0; j < cellMatrix[i].length; j++) {
            if (cellMatrix[i][j] === cell) {
                return {row: i, col: j};
            }
        }
    }
}
/**
 * æ‰“å¼€å•å…ƒæ ¼çš„æ‰€æœ‰é‚»å±…
 * @param {*} cellMatrix 
 * @param {*} position 
 */
function openNeighbors(cellMatrix, position) {
    var neighbors = getNeighbors(cellMatrix, position);

    neighbors.forEach(neighbor => {
        if (!neighbor.classList.contains('clicked') && !neighbor.classList.contains('flagged')) {
            neighbor.textContent = neighbor.dataset.count;
            neighbor.style.backgroundColor = '#ddd';
            neighbor.classList.add('clicked');

            if (neighbor.dataset.count === '') {
                var neighborPosition = getPosition(neighbor, cellMatrix);
                openNeighbors(cellMatrix, neighborPosition);
            }
        }
    });
}
/**
 * é‡ç½®æ¸¸æˆ
 * @param {*} rows 
 * @param {*} cols 
 */
function resetGame() {
    var rows = currentLevel.rows;
    var cols = currentLevel.cols;

    // æ¸…ç©ºæ‰€æœ‰çš„å•å…ƒæ ¼
    var gameBoard = document.getElementById('gameBoard');
    gameBoard.innerHTML = '';

    // é‡æ–°åˆ›å»ºæ£‹ç›˜å’Œé›·åŒº
    createBoard(rows, cols);
    // é‡æ–°åˆå§‹åŒ–é›·åŒºå¹¶è·å–é›·çš„æ•°é‡
    var mineNumber = initializeMines(rows, cols);
    // æ›´æ–°æ˜¾ç¤ºçš„åœ°é›·æ•°é‡
    document.getElementById('mineCounter').textContent = 'Mines Remain: ' + mineNumber;

    // é‡ç½®æ¸¸æˆå˜é‡
    // ...

    // å¦‚æœè®¡æ—¶å™¨æ­£åœ¨è¿è¡Œï¼Œæ¸…é™¤è®¡æ—¶å™¨
    if (timerId) {
        clearInterval(timerId);
        timerId = null;
    }

    // é‡ç½®è®¡æ—¶å™¨æ˜¾ç¤º
    document.getElementById('timer').textContent = "Time: 0 seconds";

    // é‡ç½®æ¸¸æˆå¼€å§‹çŠ¶æ€
    hasStarted = false;
    
}
/**
 * æ¸¸æˆç»“æŸ
 */
function endGame() {
    // è·å–æ‰€æœ‰çš„å•å…ƒæ ¼
    var cells = Array.from(document.querySelectorAll('.cell'));
    // éå†æ‰€æœ‰çš„å•å…ƒæ ¼
    cells.forEach(cell => {
        // å¦‚æœå•å…ƒæ ¼æœ‰é›·ï¼Œé‚£ä¹ˆæ˜¾ç¤ºé›·
        if (cell.dataset.mine === 'true') {
            cell.textContent = 'ğŸ’£';
            cell.style.backgroundColor = '#f00';  // å¯ä»¥è®¾ç½®èƒŒæ™¯é¢œè‰²ä»¥çªå‡ºæ˜¾ç¤º
        }
        // ç¦æ­¢å†æ¬¡ç‚¹å‡»å•å…ƒæ ¼
        cell.classList.add('disabled');  // ç¦ç”¨å•å…ƒæ ¼
    });
    // æ˜¾ç¤ºæ¸¸æˆç»“æŸçš„æ¶ˆæ¯
    //alert('Game Over');
    clearInterval(timerId);
    timerId = null; // é‡ç½® timerId
    hasStarted = false; // æ¸¸æˆç»“æŸåï¼Œå°†æ¸¸æˆå¼€å§‹æ ‡è¯†ç¬¦é‡ç½®ä¸ºfalse
}
/**
 * æ£€æŸ¥æ˜¯å¦èƒœåˆ©
 */
function checkWin() {
    var cells = Array.from(document.querySelectorAll('.cell'));
    
    // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰æ²¡æœ‰åœ°é›·çš„å•å…ƒæ ¼éƒ½è¢«æ‰“å¼€äº†
    var allSafeCellsOpened = cells.filter(cell => cell.dataset.mine !== 'true').every(cell => cell.classList.contains('clicked'));

    // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰çš„åœ°é›·éƒ½è¢«æ ‡è®°äº†
    var allMinesFlagged = cells.filter(cell => cell.dataset.mine === 'true').every(cell => cell.classList.contains('flagged'));

    var win = allSafeCellsOpened && allMinesFlagged;  // å°† || ä¿®æ”¹ä¸º &&

    if (win) {
        setTimeout(function() {
            //alert('You win!');
            winGame();
        }, 0);
    }
    return win;
}
/**
 * æ¸¸æˆèƒœåˆ©
 */
function winGame() {
    // è·å–æ‰€æœ‰çš„å•å…ƒæ ¼
    var cells = Array.from(document.querySelectorAll('.cell'));
    // éå†æ‰€æœ‰çš„å•å…ƒæ ¼
    cells.forEach(cell => {
        // ç¦æ­¢å†æ¬¡ç‚¹å‡»å•å…ƒæ ¼
        cell.classList.add('disabled');  // ç¦ç”¨å•å…ƒæ ¼
    });
    // å¯ä»¥åœ¨æ­¤å¤„æ·»åŠ ä»»ä½•ä½ æƒ³è¦çš„èƒœåˆ©åŠ¨ç”»æˆ–æ¶ˆæ¯
    //alert('You win!');
    clearInterval(timerId);
    timerId = null; // é‡ç½® timerId
    hasStarted = false; // æ¸¸æˆç»“æŸåï¼Œå°†æ¸¸æˆå¼€å§‹æ ‡è¯†ç¬¦é‡ç½®ä¸ºfalse
}

let timerId = null;
/**
 * å¼€å§‹è®¡æ—¶å™¨
 */
function startTimer() {
    let seconds = 0;
    timerId = setInterval(function() {
        seconds++;
        // å‡è®¾ä½ æœ‰ä¸€ä¸ª id ä¸º timer çš„å…ƒç´ ç”¨äºæ˜¾ç¤ºæ—¶é—´
        document.getElementById('timer').textContent = `Time: ${seconds} seconds`;
    }, 1000);
}
/**
 * è®¡æ•°å™¨æ›´æ–°
 * @param {*} change 
 */
function updateMineCounter(change) {
    var mineCounterElement = document.getElementById('mineCounter');
    var currentCount = Number(mineCounterElement.textContent.split(': ')[1]); // æå–å½“å‰æ•°é‡
    var newCount = currentCount + change; // æ›´æ–°æ•°é‡
    mineCounterElement.textContent = 'Mines Remain: ' + newCount; // æ˜¾ç¤ºæ–°æ•°é‡
}

// è·å–éš¾åº¦æŒ‰é’®
var easyButton = document.getElementById('easy');
var mediumButton = document.getElementById('medium');
var hardButton = document.getElementById('hard');

// ä¸ºæ¯ä¸ªéš¾åº¦æŒ‰é’®æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
easyButton.addEventListener('click', function() {
    currentLevel = {rows: 9, cols: 9};  // æ›´æ–°å½“å‰éš¾åº¦ç­‰çº§
    resetGame();  // é‡ç½®æ¸¸æˆ
});

mediumButton.addEventListener('click', function() {
    currentLevel = {rows: 16, cols: 16};  // æ›´æ–°å½“å‰éš¾åº¦ç­‰çº§
    resetGame();  // é‡ç½®æ¸¸æˆ
});

hardButton.addEventListener('click', function() {
    currentLevel = {rows: 16, cols: 30};  // æ›´æ–°å½“å‰éš¾åº¦ç­‰çº§
    resetGame();  // é‡ç½®æ¸¸æˆ
});

window.onload = function() {
    resetGame();  // æ¸¸æˆå¼€å§‹æ—¶ï¼Œåˆå§‹åŒ–æ¸¸æˆ
}; 
   </script>
</body>
<footer>
    <p>@zzZkevinw</p>
</footer>
</html>